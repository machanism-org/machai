<!-- 
@guidance:
**IMPORTANT: GENERATE CONTENT FOR THIS FILE: `overview.html` ACCORDING TO THE BEST PRACTICES AND RULES BELOW.**

Use information from `pom.xml` for get information about PROJECT_NAME: `project.name`, PROJECT_DESCRIPTION: `project.description`.
[PROJECT_NAME] supports all types of project filesâ€”including source code, documentation, project site content, and other relevant files.

- **Write Clear and Concise Descriptions:**
    - Follow best practices for creating a package overview.
    - Provide meaningful summaries that clearly explain the purpose, behavior, and usage of each element.
    - Avoid vague or generic statements; be specific about functionality and intent.
    - Aggregate information from `package-info.java` files from source folders.
    - Use the class diagram located at `../images/class-diagram.png`.
    - Create a detailed package-level overview that describes its overall purpose, structure, and usage.

- **Automatic Fixes for Javadoc Build Issues:**
    - If Javadoc build fails due to invalid @throws tags or missing required Javadoc, 
       automatically correct these issues in the generated `overview.html` content (e.g., omit invalid tags, add missing descriptions as needed).
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GW Maven Plugin API Overview</title>
</head>
<body>

<h1>GW Maven Plugin API Overview</h1>

<p>
  <strong>GW Maven Plugin</strong> integrates the MachAI Ghostwriter Guided Workflow (GW) document-processing pipeline
  into a Maven build. The plugin configures and invokes a
  <code>org.machanism.machai.gw.processor.GuidanceProcessor</code> to scan a configurable content tree (commonly
  <code>src/site</code>) for files that contain embedded <code>@guidance:</code> blocks. When guidance blocks are found,
  the processor applies the requested transformations and writes updates back to disk.
</p>

<h2>Package summary</h2>

<p>
  The plugin implementation and public goals are provided by:
</p>

<ul>
  <li>
    <code>org.machanism.machai.gw.maven</code> &mdash; Maven goals (Mojos) and shared execution infrastructure.
  </li>
</ul>

<p>
  The package follows a common execution pattern across goals: resolve a scan root, apply include/exclude rules,
  configure the Ghostwriter processor (provider selection, instructions/default guidance, and optional credentials),
  then run a guided processing pass.
</p>

<h2>Main goals</h2>

<ul>
  <li>
    <strong><code>gw:gw</code> (class: <code>org.machanism.machai.gw.maven.GW</code>)</strong>
    &mdash; Aggregator-style goal that can run without a <code>pom.xml</code>. It processes modules in reverse order
    (sub-modules first, then parent modules), mirroring the ordering used by the Ghostwriter CLI.
  </li>
  <li>
    <strong><code>gw:reactor</code> (class: <code>org.machanism.machai.gw.maven.ReactorGW</code>)</strong>
    &mdash; Processes projects in standard Maven reactor dependency order and can optionally defer processing of the
    execution-root project.
  </li>
  <li>
    <strong><code>gw:act</code> (class: <code>org.machanism.machai.gw.maven.Act</code>)</strong>
    &mdash; Interactive goal for running predefined actions backed by resource bundles.
  </li>
  <li>
    <strong><code>gw:clean</code> (class: <code>org.machanism.machai.gw.maven.Clean</code>)</strong>
    &mdash; Deletes temporary artifacts created by GW processing (typically bound to Mavens <code>clean</code> lifecycle).
  </li>
</ul>

<h2>Scanning and processing model</h2>

<p>
  At runtime, each goal determines the scan directory (usually the Maven execution root or a user-provided path) and
  traverses the directory tree looking for files that contain one or more <code>@guidance:</code> directives. Matched files
  are then processed by Ghostwriters workflow engine.
</p>

<p>
  This model is intentionally content-type agnostic, enabling guided updates across Java source files, documentation,
  and Maven Site content.
</p>

<h2>Configuration and credentials</h2>

<p>
  In addition to standard Maven plugin parameters (for example, scan directory and exclude patterns), GenAI credentials
  can be sourced from <code>~/.m2/settings.xml</code> by providing
  <code>-Dgw.genai.serverId=&lt;serverId&gt;</code>. When configured, the plugin looks up the matching
  <code>&lt;server&gt;</code> entry and forwards those credentials to the Ghostwriter workflow.
</p>

<h2>Class diagram</h2>

<p>
  The following diagram summarizes the main goal types and shared infrastructure.
</p>

<p>
  <img src="../images/class-diagram.png" alt="Class diagram for GW Maven Plugin" />
</p>

<h2>Common usage</h2>

<p>
  Run guided processing for the current project:
</p>

<pre>
mvn gw:gw
</pre>

<p>
  Run reactor-ordered processing in a multi-module build:
</p>

<pre>
mvn gw:reactor
</pre>

<p>
  Override the scan root directory (Windows example):
</p>

<pre>
mvn gw:reactor -Dgw.scanDir=src\\site
</pre>

</body>
</html>
