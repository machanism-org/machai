---
canonical: http://machai.machanism.org/gw-maven-plugin/project-processing.html
---

# Project Processing

The **GW Maven Plugin** enables automated documentation and code review for your Maven projects using GenAI and customizable guidance. This guide explains how the plugin processes your project, how to control its behavior, and best practices for effective usage.

## How Project Processing Works

The GW Maven Plugin provides several goals to support different project processing workflows:

- **`gw`**: The main goal for scanning, processing, and generating documentation or code review using GenAI.
- **`reactor`**: Processes all modules in a multi-module Maven project, following Maven reactor logic for module order and dependencies.
- **`clean`**: Removes temporary files and logs generated by previous plugin runs, helping keep your project directory tidy.

When you run the GW Maven Plugin with one of these goals, it performs the following steps:

1. **Project Scanning:**  
   The plugin scans your project directory (or specified subdirectories/patterns) for source files, documentation, and modules.

2. **Guidance Extraction:**  
   For each file, the plugin looks for embedded `@guidance` tags. If found, these tags provide file-specific instructions for GenAI.

3. **Default Guidance Application:**  
   If a file does not contain an embedded `@guidance` tag, the plugin applies the default guidance (if specified via the `--guidance` option or property).

4. **Prompt Construction:**  
   The plugin constructs a prompt for GenAI, combining:
   - Project structure and metadata
   - Guidance (embedded or default)
   - Any additional instructions (from the `--instructions` option or property)

5. **GenAI Processing:**  
   The constructed prompt is sent to the configured GenAI provider. The response is used to generate or update documentation, code comments, or other artifacts.

6. **Logging and Output:**  
   Optionally, the plugin logs all inputs and outputs for traceability and review.

**Tip:**  
Use the `gw` goal for standard Ghostwriter-style processing, the `reactor` goal for full multi-module builds with Maven reactor control, and the `clean` goal to remove generated logs and temporary files.

## Usage

The primary aim of the GW Maven Plugin is to enable automated, consistent documentation and code review as part of your projectâ€™s **automation pipeline** (e.g., CI/CD workflows). By default, the plugin processes your entire project or module, ensuring comprehensive coverage and integration with your build lifecycle.

### Additional Processing Controls

While full-project processing is the standard and recommended approach for automation, you can further refine what gets processed using these options:

- **scanDir (Optional):**  
  Use the `scanDir` property to specify a directory, glob, or regex pattern if you need to limit processing to a subset of files or directories. This is useful for targeted runs, debugging, or special cases.
  ```sh
  mvn org.machanism.machai:gw-maven-plugin:0.0.10:gw -Dgw.scanDir=src/main/java
  mvn org.machanism.machai:gw-maven-plugin:0.0.10:gw -Dgw.scanDir="glob:**/*.java"
  ```

- **Excludes:**  
  Exclude specific files or directories from processing using the `-Dgw.excludes` property.
  ```sh
  mvn ... -Dgw.excludes=target,node_modules
  ```

- **Non-Recursive Mode:**  
  Limit processing to the current directory only (useful for single-module or focused runs).
  ```sh
  mvn ... -N
  ```

**Best Practice:**  
For most automation scenarios, let the plugin process the entire project or module. Use `scanDir` and other filters only when you need to focus on specific areas or optimize for special cases.


## Guidance and Instructions

- **Embedded Guidance:**  
  Add `@guidance:` comments directly in your source or documentation files for file-specific instructions.

- **Default Guidance:**  
  Use the `--guidance` option to provide fallback instructions for files without embedded guidance.

- **Additional Instructions:**  
  Use the `--instructions` option to append project-wide instructions to every prompt.

## Logging and Review

- Enable input logging with the `--logInputs` option to save all prompts and responses for review.
- Logs are stored in a temporary directory under your project root.

## Best Practices

- Start with default guidance to quickly enable documentation for your project.
- Gradually add embedded `@guidance` tags for files or modules that require specific instructions.
- Use patterns and excludes to focus processing on relevant parts of your project.
- Regularly review logs and outputs to ensure quality and compliance.

## Example Command

```sh
mvn org.machanism.machai:gw-maven-plugin:0.0.10:gw \
  -Dgw.scanDir="glob:**/*.java" \
  -Dgw.guidance="file:default-guidance.txt" \
  -Dgw.instructions="file:project-instructions.txt" \
  -Dgw.logInputs=true
```